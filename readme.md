# Создание DATA-API
## Аннотация

Необходимо создать инструмент, который автоматизирует процедуру заполнения контракта AI-модели/стратегии на стороне сервиса, осуществляющего вызов, с учетом:

* Модели данных от источников, которые опрашивает сервис
* Модель данных на вход стратегии/модели
* Правила преобразования данных для подачи на стратегию/модель, например: `дата рождения в возраст`, `адрес в код региона`


Задача открытая, нет ограничений для участников в выборе решения. На выходе должен получиться инструмент, который позволит:
решать интеграционные задачи силами “гражданских” разработчиков (системный аналитик, Риск-технолог и так далее);
упростить производственный процесс для задач добавления новых источников данных на модели, изменения контрактов существующих.
Будет плюсом, если будет предусмотрен интеллектуальный режим отладки.


## Алгоритм решения - `Data-API pipeline`

Схема 1. workflow процесса подготовки данных

![workflow процесса подготовки данных](./assets/img/data-api-fabrica.png)

**Описание алгоритма**

**Предусловие**
1. Сформирована анкета на получение кредита;
2. Список внешних источников данных зафиксирован в конфигурации;
3. Форматы запросов/ответов внешних источников данных соответствует конфигурации завиксированной в `*Schema.json`.

**Основной сценарий**
1. Система получает "анкету на получение кредита";
2. Система отправляет Анкету GigaChat_API (исп. function_call);
3. Система получает ответ с Payload для внешних систем, выполняет запросы и получает ответы;
4. Система отправляет ответы GigaChat_API (исп. function_call);
5. Система объединяет данные и нормализует их;
6. Система формирует Payload запроса для AI-модели.

Постусловие
Система получает подтверждение выполненного задания.


